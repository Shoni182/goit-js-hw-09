{"version":3,"file":"2-form.js","sources":["../src/js/form.js"],"sourcesContent":["//: ARRAY ===============\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\n//: DOM SEARCH ===============\n\nconst form = document.querySelector('.feedback-form');\n\nlet emailElem = document.querySelector('#user-email');\nlet messageElem = document.querySelector('#user-msg');\nconst STORAGE_KEY = 'feedback-form-state';\n\n//: INPUT ===============\n\nform.addEventListener('input', evt => {\n  const inputData = new FormData(form);\n\n  formData = {\n    email: inputData.get('email').trim(),\n    message: inputData.get('message').trim(),\n  };\n\n  saveData(STORAGE_KEY, formData);\n});\n\n//:  SUBMIT =============\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  if (emailElem.value === '' || messageElem.value === '') {\n    alert('«Fill please all fields»');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem(STORAGE_KEY);\n  form.reset();\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const data = loadData(STORAGE_KEY);\n  emailElem.value = data?.email || '';\n  messageElem.value = data?.message || '';\n});\n\n//: Functions =============\n\nfunction saveData(key, value) {\n  const data = JSON.stringify(value);\n  localStorage.setItem(key, data);\n}\n\nfunction loadData(key) {\n  const data = localStorage.getItem(key);\n  try {\n    const value = JSON.parse(data);\n    return value;\n  } catch {\n    return data;\n  }\n}\n"],"names":["formData","form","emailElem","messageElem","STORAGE_KEY","evt","inputData","saveData","data","loadData","key","value"],"mappings":"kCAEA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAIA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,WAAW,EACpD,MAAMC,EAAc,sBAIpBH,EAAK,iBAAiB,QAASI,GAAO,CACpC,MAAMC,EAAY,IAAI,SAASL,CAAI,EAEnCD,EAAW,CACT,MAAOM,EAAU,IAAI,OAAO,EAAE,KAAM,EACpC,QAASA,EAAU,IAAI,SAAS,EAAE,KAAM,CAC5C,EAEEC,EAASH,EAAaJ,CAAQ,CAChC,CAAC,EAIDC,EAAK,iBAAiB,SAAUI,GAAO,CAGrC,GAFAA,EAAI,eAAc,EAEdH,EAAU,QAAU,IAAMC,EAAY,QAAU,GAAI,CACtD,MAAM,0BAA0B,EAChC,MACD,CAED,QAAQ,IAAIH,CAAQ,EACpB,aAAa,WAAWI,CAAW,EACnCH,EAAK,MAAK,CACZ,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMO,EAAOC,EAASL,CAAW,EACjCF,EAAU,OAAQM,GAAA,YAAAA,EAAM,QAAS,GACjCL,EAAY,OAAQK,GAAA,YAAAA,EAAM,UAAW,EACvC,CAAC,EAID,SAASD,EAASG,EAAKC,EAAO,CAC5B,MAAMH,EAAO,KAAK,UAAUG,CAAK,EACjC,aAAa,QAAQD,EAAKF,CAAI,CAChC,CAEA,SAASC,EAASC,EAAK,CACrB,MAAMF,EAAO,aAAa,QAAQE,CAAG,EACrC,GAAI,CAEF,OADc,KAAK,MAAMF,CAAI,CAEjC,MAAU,CACN,OAAOA,CACR,CACH"}